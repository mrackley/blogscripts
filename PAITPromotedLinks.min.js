$.fn.PAITGroupPromotedLinks=function(a){document.write('<div id="PAITPromotedLinks"></div>');var b=$.extend({},{listName:"PromotedLinks",tileWidth:150,tileHeight:150,columnWidth:200,showTitle:!0},a),c=$.ajax({url:_spPageContextInfo.webAbsoluteUrl+"/_api/Web/Lists/GetByTitle('"+b.listName+"')/items?orderby=Order",type:"GET",dataType:"json",headers:{Accept:"application/json;odata=verbose"}});c.done(function(a,c,d){for(index in a.d.results){var e="<div class='PAITPromotedLink-Tile' onclick='window.location=\""+a.d.results[index].LinkLocation.Url+"\";'><div class='front'><img width='"+b.tileWidth+"' height='"+b.tileHeight+"' src='"+a.d.results[index].BackgroundImageLocation.Url+"'>";b.showTitle&&(e+="<div class='PAITPromotedLink-TileTitle'>"+a.d.results[index].Title+"</div>"),e+="</div><div class='back'>"+a.d.results[index].Description+"</div></div>",$("#PAITPromotedLinks").append(e)}$(".PAITPromotedLink-Tile,.back").css({height:b.tileHeight}),$(".PAITPromotedLink-Tile,.back").css({width:b.tileWidth}),$(".PAITPromotedLink-Tile").flip({axis:b.axis,trigger:b.trigger}),$("#PAITPromotedLinks").masonry({itemSelector:".PAITPromotedLink-Tile",columnWidth:b.columnWidth})}),c.fail(function(a,b,c){alert("Error retrieving promoted links list: "+a.responseText)})};